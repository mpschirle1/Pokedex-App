let pokemonRepository=function(){let e=[];function a(a){d(a).then(function(){f(a)})}function b(a){e.push(a)}function c(){return e}function d(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.other["official-artwork"].front_default,a.id=b.id,a.feet=Math.floor(.32808*b.height),a.inches=Math.round((.32808*b.height-a.feet)*12),12===a.inches&&(a.inches=0,a.feet++),a.weight=.2204622622*b.weight;let c=[];b.types.forEach(a=>c.push(a.type.name)),a.types=c}).catch(function(a){console.error(a)})}function f(a){let b=document.querySelector("#poke-modal-body"),c=document.querySelector("#poke-modal-title");c.innerHTML="",b.innerHTML="";let f=document.createElement("h1");f.innerText=a.name;let g=document.createElement("h2");g.innerText="#"+a.id.toString().padStart(3,0);let d=document.createElement("img");d.src=a.imageUrl,d.classList.add("pokemon-sprite");let e=document.createElement("p");e.innerText="Type: "+a.types.join(", "),e.classList.add("pokemon-type");let h=document.createElement("p");h.innerText="Height: "+a.feet+"' "+a.inches+'"';let i=document.createElement("p");i.innerText="Weight: "+a.weight.toFixed(1)+" lbs",c.appendChild(f),c.appendChild(g),b.appendChild(d),b.appendChild(e),b.appendChild(h),b.appendChild(i)}return document.getElementById("poke-search").addEventListener("input",function(){let a=document.getElementById("poke-search").value;a=a.toLowerCase(),$("li").each(function(){let b=$(this);b.text().includes(a)?b.show():b.hide()})}),{add:b,getAll:c,addListItem:function(c){let e=document.querySelector(".list-group"),d=document.createElement("li"),b=document.createElement("button");b.innerText=c.name,b.classList.add("btn","btn-custom","col-xl-6","col-md-8","col-11","mx-auto"),b.classList.add("list-group-item","list-group-item-action"),b.setAttribute("data-target","#poke-modal"),b.setAttribute("data-toggle","modal"),d.appendChild(b),e.appendChild(d),function(b,c){b.addEventListener("click",function(){a(c)})}(b,c)},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=151").then(function(a){return a.json()}).then(function(a){a.results.forEach(function(a){b({name:a.name,detailsUrl:a.url})})}).catch(function(a){console.error(a)})},loadDetails:d,showDetails:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})